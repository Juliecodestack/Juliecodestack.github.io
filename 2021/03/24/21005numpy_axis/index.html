<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.105.0">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Numpy运算中的axis参数 &middot; Julie</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://juliecodestack.github.io/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://juliecodestack.github.io/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://juliecodestack.github.io/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://juliecodestack.github.io/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
crossorigin="anonymous"
onload='renderMathInElement(document.body);'></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "\\[", right: "\\]", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false}
            ]
        });
    });
</script>
</head>

  <body class="theme-base-0e ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://juliecodestack.github.io/"><h1>Julie</h1></a>
      <p class="lead">
       Notes on Programming and Machine Learning 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://juliecodestack.github.io/">Home</a> </li>
        <li><a href="/post"> Archive </a></li><li><a href="/categories/"> Categories </a></li><li><a href="/tags/"> Tags </a></li><li><a href="/page/about"> About </a></li><li><a href="https://github.com/Juliecodestack"> GitHub </a></li><li><a href="">  </a></li>
      </ul>
    </nav>

    <p>&copy; 2023. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>Numpy运算中的axis参数</h1>
  <time datetime=2021-03-24T11:23:28Z class="post-date">Mar 24, 2021</time>
  <p>最近在学习Numpy时，对函数设置中axis（轴）参数有些困惑，学习了这两篇文章：
<a href="https://zhuanlan.zhihu.com/p/30960190">Python · numpy · axis</a>
和 <a href="https://zhuanlan.zhihu.com/p/31275071">Numpy:对Axis的理解</a>，
感觉自己弄明白了，在这里分享我的理解，欢迎交流和指正。</p>
<p>举例说明更明白，那就直接上例子吧。
<img src="/imgs/numpyaxis2021-03-10-20-24-38.png" alt="数组示例">
对于图中所示的数组，shape为(2,3,4)，表示这是一个三维数组，每个维度的大小分别是2，3，4，换言之，就是在相应的维度上有2/3/4个元素。以第一维维度（对应axis=0)为例，其大小为2，也就是有两个元素，即图中的两个 3x4 数组。</p>
<p>axis(轴)操作是依据什么规则呢？一般来说，对于N维数据，axis的数字从0到N-1，对应于数组从外到内层（看括号方向）。
<strong>我的理解：换个角度，我们可以想象在多维空间进行操作。选取某根坐标轴（axis），相应得到多个切面，然后对这多个切面进行操作。</strong> 我们可以在每个维度取出一个“元素”来看看（对应于空间的一个“切面”）：
<img src="/imgs/numpyaxis2021-03-12-19-40-06.png" alt="某一维的元素示例">
观察结果我们发现，某一维的元素，其大小正好是其余两维的大小。例如对于上面shape为(2,3,4)的数组b，第一维（axis=0）的元素<code>b[1,:,:]</code>的shape为（3，4），正是其余两维的大小。第二维（axis=1）、第三维（axis=2)的情况也是如此。</p>
<p>现在我们来看<code>np.sum()</code>操作，它是把某个方向上的元素相加，对应到空间中，相当于多个切面叠加到一起，合而为一。因此得到的结果的shape与元素一致。</p>
<p><img src="/imgs/numpyaxis2021-03-10-20-25-11.png" alt="np.sum()示例"></p>
<p><code>np.sort()</code>更有意思，它的结果也体现轴操作的特点。比如axis=0时，注意看是数组b中的[1,2,3,4]和[3,2,5,6]对应逐元素排序，[5,2,4,1]和[1,3,6,7]对应逐元素排序，[3,1,1,2]和[6,9,3,1]对应逐元素排序。
<img src="/imgs/numpyaxis2021-03-10-20-25-32.png" alt="np.sort()示例"></p>
</div>


    </main>

    
      
    
  </body>
</html>
